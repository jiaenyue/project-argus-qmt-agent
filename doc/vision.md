# Project Argus QMT 数据代理愿景

## 项目背景

现代量化交易系统需要访问多样化数据源，其中miniQMT（迅投量化交易客户端）是重要的金融数据来源。然而，miniQMT存在以下关键限制：
1. **环境绑定**：只能运行在Windows操作系统
2. **平台隔离**：其Python API（xtquant）深度依赖本地Windows环境
3. **架构冲突**：与现代化系统架构难以直接集成

这导致量化团队面临两大困境：
- 数据分析系统（如Project Argus）无法直接访问miniQMT实时数据
- 策略研发环境与生产交易环境存在平台鸿沟

因此，我们需要一个**数据代理层**，作为Windows环境与跨平台系统间的桥梁，解决环境依赖问题。

## 核心目标

本项目作为miniQMT数据代理，聚焦三大核心价值：

### 1. 环境解耦 (Decoupling)
- **目标**: 将 Windows 平台的 miniQMT 依赖与上层数据消费系统 (如 Project Argus) 彻底隔离。
- **价值**:
    - 使得量化策略、分析工具能够通过标准化HTTP API无缝、稳定地访问 miniQMT 数据。
    - 降低因平台差异导致的策略研发与生产环境的鸿沟，提升开发和部署效率。

### 2. 稳定可靠的API服务 (Stable & Reliable API Service)
- **目标**: 提供一套高性能、高可用的 HTTP(S) API 接口，暴露 miniQMT 的核心数据查询功能。
- **核心数据接口**:
    - 交易日历查询
    - 板块/股票列表获取
    - 合约详细信息查询
    - 多周期历史K线数据 (OHLCV)
    - 最新行情快照
- **价值**:
    - 保证上层系统数据获取的连续性和稳定性，支持7x24小时无人值守运行 (通过Windows服务化部署等手段)。
    - 提供清晰、一致的错误处理和反馈机制，便于问题定位和系统集成。
    - 通过合理的缓存策略（如适用）提升常用数据的响应速度。

### 3. 标准化与易用性 (Standardization & Ease of Use)
- **目标**: 统一 miniQMT 数据访问的规范，简化接入和使用复杂度。
- **价值**:
    - 降低学习成本，使开发者能快速集成和使用QMT数据，无需深入了解 `xtquant` 的底层细节。
    - 通过环境变量等方式支持灵活配置 (如服务端口、日志级别等)。
    - 提供全面的日志追踪功能，便于运维和问题排查。
    - (未来) 提供 OpenAPI/Swagger 接口文档，进一步提升易用性。

## 未来愿景

### MCP深度集成
本数据代理基于 [xtquantai](https://github.com/dfkai/xtquantai) 项目构建，天然具备 Model Context Protocol (MCP) 的支持潜力。未来，我们将深度利用 MCP 实现以下智能化增强功能，使数据交互更为高效和直观：

1. **智能数据访问 (Intelligent Data Access)**
   - **自然语言驱动的数据查询**: 用户可以通过自然语言提问，由AI助手解析并通过MCP调用本代理获取数据。例如：“查询贵州茅台最近一个月的日K线数据”或“获取沪深300成分股列表”。
   - **AI辅助的指标计算**: AI助手可基于本代理提供的基础数据，进行常用技术指标的计算。例如：“计算平安银行的MA5和MA10指标”。
   - **自动化报表摘要**: 结合AI的分析能力，从数据代理获取数据后自动生成市场摘要或特定证券的简报。例如：“生成今日科技板块行情概览”。

2. **交互式分析 (Interactive Analysis)**
   - **指令驱动的动态图表**: 通过MCP指令，调用QMT客户端（如果连接）的 `create_chart_panel` 等功能，动态生成和展示技术图表。
   - **多维度数据对比与探索**: AI助手可以引导用户进行更复杂的数据探索，如比较多只股票的市盈率、波动率等。
   - **实时监控与预警面板 (概念)**: 结合MCP和AI，探索构建可由自然语言配置的监控面板和简单的预警逻辑。

### Project Argus 生态与架构演进
本 QMT 数据代理是 Project Argus 生态系统中的关键一环。其稳定运行和标准化接口将为整个生态的未来发展奠定基础，包括：

3. **生态扩展 (Ecosystem Expansion for Project Argus)**
   - **多数据源融合**: Project Argus 层面将融合来自本代理的QMT数据以及其他来源（如Tushare、Wind、自定义数据库等）的数据，提供统一的数据视图。
   - **策略回测与模拟交易支持**: Project Argus 将利用包括本代理在内的各数据服务，构建强大的策略回测引擎和模拟交易环境。
   - **交易指令通道整合**: 独立的交易代理服务 (如 `doc/user_story.md` Epic 3 中所述) 将负责实际的交易执行，形成数据获取、分析、决策、执行的闭环。

4. **架构演进 (Architecture Evolution for Project Argus)**
   - **分布式服务集群**: 随着需求增长，Project Argus 的各个组件（包括类似本代理的服务实例）可能演进为分布式集群，以提高可用性和扩展性。
   - **统一数据湖/仓**: 整合各数据源的数据，构建统一的数据湖或数据仓库，支持更复杂的数据分析和挖掘。
   - **服务治理与监控体系**: 完善的服务注册发现、配置管理、集中式日志与监控告警系统，保障整个 Project Argus 生态的稳定高效运行。

## 结论
Project Argus QMT 数据代理旨在成为连接 miniQMT 与现代量化分析及交易系统的坚实桥梁。通过解决平台依赖、提供稳定接口并拥抱智能化趋势，本项目将为 Project Argus 乃至更广泛的量化社区提供重要的基础数据服务组件，释放更多数据价值。